package test;

import org.apache.logging.log4j.util.Unbox;
import org.jdkstack.logging.nogc.api.recorder.Recorder;
import org.jdkstack.logging.nogc.core.Constants;
import org.jdkstack.logging.nogc.core.factory.LogFactory;

public class Examples {

  private static final Recorder LOG = LogFactory.getRecorder(Examples.class);

  public static void main(final String[] args) throws Exception {
    //ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(4, 4, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>(100), new CallerRunsPolicy());
    String message = "BBBAAA12345678901234567890123456789012345678901234567890123456789012AAAA0123456781234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901212345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012AAAA{}";
    for (int k = 0; k < 10; k++) {
      final long s = System.currentTimeMillis();
      for (int i = 0; i < 1000000; i++) {
        //threadPoolExecutor.submit(() -> LOG.log(23, Constants.FATAL, message, StringBuilderPool.box(j)));
        LOG.log(Constants.FATAL, message, Unbox.box(0));
        //LOG.log(26, Constants.FATAL, message, StringBuilderPool.box(i));
      }
      final long e = System.currentTimeMillis();
      System.out.println(e - s);
    }
    Thread.sleep(99999999);
  }
}
